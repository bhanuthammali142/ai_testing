// ============================================
// Mock Data for the TestExam Application
// ============================================

import { Test, Question, Attempt, TestAnalytics, AIGeneratedQuestion } from '../types';

// Default test settings
export const defaultTestSettings = {
    questionBehavior: {
        showAllOnOnePage: false,
        randomizeOrder: true,
        allowBlankAnswers: false,
        enableNegativeMarking: false,
    },
    review: {
        passingScore: 60,
        conclusionText: 'Thank you for completing this test. Your results have been recorded.',
        passMessage: 'Congratulations! You have passed the test.',
        failMessage: 'Unfortunately, you did not meet the passing criteria. Please review and try again.',
        showScore: true,
        showCorrectAnswers: true,
        showExplanations: true,
        showQuestionOutline: false,
    },
    accessControl: {
        accessType: 'public' as const,
        passcode: undefined,
        allowedEmails: [],
        requireName: true,
        requireStudentId: false,
        timeLimitMinutes: null,
        attemptLimit: null,
        autoSubmitOnTimeout: true,
    },
    antiCheating: {
        disableRightClick: true,
        disableCopyPaste: true,
        disableTranslate: false,
        disableAutocomplete: true,
        disableSpellcheck: false,
        disablePrinting: true,
        showTechnicalDisclosure: true,
    },
};

// Sample Tests
export const mockTests: Test[] = [
    {
        id: 'test-001',
        name: 'JavaScript Fundamentals',
        adminPassword: 'admin123',
        settings: { ...defaultTestSettings },
        status: 'open',
        urlAlias: 'js-fundamentals',
        createdAt: new Date('2024-01-15'),
        updatedAt: new Date('2024-01-20'),
    },
    {
        id: 'test-002',
        name: 'React Advanced Concepts',
        adminPassword: 'admin456',
        settings: {
            ...defaultTestSettings,
            questionBehavior: {
                ...defaultTestSettings.questionBehavior,
                showAllOnOnePage: true,
            },
            accessControl: {
                ...defaultTestSettings.accessControl,
                accessType: 'passcode',
                passcode: 'REACT2024',
                timeLimitMinutes: 45,
            },
        },
        status: 'scheduled',
        scheduledStart: new Date('2024-02-01'),
        scheduledEnd: new Date('2024-02-28'),
        urlAlias: 'react-advanced',
        createdAt: new Date('2024-01-10'),
        updatedAt: new Date('2024-01-18'),
    },
    {
        id: 'test-003',
        name: 'Python for Data Science',
        adminPassword: 'admin789',
        settings: {
            ...defaultTestSettings,
            accessControl: {
                ...defaultTestSettings.accessControl,
                accessType: 'email',
                allowedEmails: ['student@university.edu'],
                timeLimitMinutes: 60,
                attemptLimit: 2,
            },
        },
        status: 'closed',
        urlAlias: 'python-ds',
        createdAt: new Date('2024-01-05'),
        updatedAt: new Date('2024-01-15'),
    },
];

// Sample Questions
export const mockQuestions: Question[] = [
    {
        id: 'q-001',
        testId: 'test-001',
        type: 'mcq-single',
        text: 'What is the output of `console.log(typeof null)` in JavaScript?',
        options: [
            { id: 'opt-1', text: 'null', isCorrect: false },
            { id: 'opt-2', text: 'undefined', isCorrect: false },
            { id: 'opt-3', text: 'object', isCorrect: true },
            { id: 'opt-4', text: 'number', isCorrect: false },
        ],
        explanation: 'This is a well-known JavaScript quirk. typeof null returns "object" due to a bug in the original JavaScript implementation that was never fixed for backward compatibility.',
        difficulty: 'medium',
        topic: 'JavaScript Basics',
        points: 10,
        negativeMarking: 0,
        order: 1,
        createdAt: new Date('2024-01-15'),
        updatedAt: new Date('2024-01-15'),
    },
    {
        id: 'q-002',
        testId: 'test-001',
        type: 'mcq-multiple',
        text: 'Which of the following are valid ways to declare a variable in JavaScript? (Select all that apply)',
        options: [
            { id: 'opt-1', text: 'var x = 10;', isCorrect: true },
            { id: 'opt-2', text: 'let y = 20;', isCorrect: true },
            { id: 'opt-3', text: 'const z = 30;', isCorrect: true },
            { id: 'opt-4', text: 'variable w = 40;', isCorrect: false },
        ],
        explanation: 'JavaScript supports var (function-scoped), let (block-scoped), and const (block-scoped, immutable binding) for variable declarations.',
        difficulty: 'easy',
        topic: 'JavaScript Basics',
        points: 15,
        negativeMarking: 0,
        order: 2,
        createdAt: new Date('2024-01-15'),
        updatedAt: new Date('2024-01-15'),
    },
    {
        id: 'q-003',
        testId: 'test-001',
        type: 'true-false',
        text: 'JavaScript is a statically typed programming language.',
        options: [
            { id: 'opt-1', text: 'True', isCorrect: false },
            { id: 'opt-2', text: 'False', isCorrect: true },
        ],
        explanation: 'JavaScript is dynamically typed, meaning variable types are determined at runtime rather than compile time.',
        difficulty: 'easy',
        topic: 'JavaScript Basics',
        points: 5,
        negativeMarking: 0,
        order: 3,
        createdAt: new Date('2024-01-15'),
        updatedAt: new Date('2024-01-15'),
    },
    {
        id: 'q-004',
        testId: 'test-001',
        type: 'coding',
        text: 'Write a function that takes an array of numbers and returns the sum of all even numbers.',
        options: [],
        correctAnswer: 'function sumEven(arr) { return arr.filter(n => n % 2 === 0).reduce((a, b) => a + b, 0); }',
        explanation: 'The solution uses filter to get even numbers and reduce to sum them. Arrow functions make the code concise.',
        difficulty: 'medium',
        topic: 'JavaScript Functions',
        points: 20,
        negativeMarking: 0,
        order: 4,
        createdAt: new Date('2024-01-15'),
        updatedAt: new Date('2024-01-15'),
    },
    {
        id: 'q-005',
        testId: 'test-001',
        type: 'mcq-single',
        text: 'What will be the output of: `console.log(1 + "2" + 3)`?',
        options: [
            { id: 'opt-1', text: '6', isCorrect: false },
            { id: 'opt-2', text: '123', isCorrect: true },
            { id: 'opt-3', text: '15', isCorrect: false },
            { id: 'opt-4', text: 'NaN', isCorrect: false },
        ],
        explanation: 'JavaScript performs type coercion. 1 + "2" becomes "12", then "12" + 3 becomes "123".',
        difficulty: 'medium',
        topic: 'Type Coercion',
        points: 10,
        negativeMarking: 2,
        order: 5,
        createdAt: new Date('2024-01-16'),
        updatedAt: new Date('2024-01-16'),
    },
    {
        id: 'q-006',
        testId: 'test-001',
        type: 'mcq-single',
        text: 'Which method is used to convert a JSON string to a JavaScript object?',
        options: [
            { id: 'opt-1', text: 'JSON.stringify()', isCorrect: false },
            { id: 'opt-2', text: 'JSON.parse()', isCorrect: true },
            { id: 'opt-3', text: 'JSON.toObject()', isCorrect: false },
            { id: 'opt-4', text: 'JSON.convert()', isCorrect: false },
        ],
        explanation: 'JSON.parse() converts a JSON string to a JavaScript object, while JSON.stringify() does the opposite.',
        difficulty: 'easy',
        topic: 'JSON',
        points: 10,
        negativeMarking: 0,
        order: 6,
        createdAt: new Date('2024-01-16'),
        updatedAt: new Date('2024-01-16'),
    },
    {
        id: 'q-007',
        testId: 'test-001',
        type: 'mcq-single',
        text: 'What is the purpose of the `async` keyword in JavaScript?',
        options: [
            { id: 'opt-1', text: 'To make a function run faster', isCorrect: false },
            { id: 'opt-2', text: 'To declare a function that returns a Promise', isCorrect: true },
            { id: 'opt-3', text: 'To pause code execution', isCorrect: false },
            { id: 'opt-4', text: 'To handle errors', isCorrect: false },
        ],
        explanation: 'The async keyword declares an asynchronous function that automatically returns a Promise.',
        difficulty: 'medium',
        topic: 'Async/Await',
        points: 10,
        negativeMarking: 0,
        order: 7,
        createdAt: new Date('2024-01-17'),
        updatedAt: new Date('2024-01-17'),
    },
    {
        id: 'q-008',
        testId: 'test-001',
        type: 'true-false',
        text: 'The `===` operator in JavaScript checks both value and type equality.',
        options: [
            { id: 'opt-1', text: 'True', isCorrect: true },
            { id: 'opt-2', text: 'False', isCorrect: false },
        ],
        explanation: 'The strict equality operator (===) checks both value and type, while == only checks value with type coercion.',
        difficulty: 'easy',
        topic: 'Operators',
        points: 5,
        negativeMarking: 0,
        order: 8,
        createdAt: new Date('2024-01-17'),
        updatedAt: new Date('2024-01-17'),
    },
];

// Sample Attempts
export const mockAttempts: Attempt[] = [
    {
        id: 'attempt-001',
        testId: 'test-001',
        candidate: {
            id: 'cand-001',
            name: 'Alice Johnson',
            email: 'alice@example.com',
        },
        responses: [
            { questionId: 'q-001', selectedOptions: ['opt-3'], isCorrect: true, pointsEarned: 10, timeTaken: 45 },
            { questionId: 'q-002', selectedOptions: ['opt-1', 'opt-2', 'opt-3'], isCorrect: true, pointsEarned: 15, timeTaken: 60 },
            { questionId: 'q-003', selectedOptions: ['opt-2'], isCorrect: true, pointsEarned: 5, timeTaken: 20 },
            { questionId: 'q-004', selectedOptions: [], codeAnswer: 'function sumEven(arr) { return arr.filter(n => n % 2 === 0).reduce((a, b) => a + b, 0); }', isCorrect: true, pointsEarned: 20, timeTaken: 180 },
        ],
        status: 'completed',
        score: 50,
        maxScore: 50,
        percentage: 100,
        passed: true,
        startedAt: new Date('2024-01-20T10:00:00'),
        completedAt: new Date('2024-01-20T10:25:00'),
        timeSpentSeconds: 1500,
        tabSwitchCount: 0,
    },
    {
        id: 'attempt-002',
        testId: 'test-001',
        candidate: {
            id: 'cand-002',
            name: 'Bob Smith',
            email: 'bob@example.com',
        },
        responses: [
            { questionId: 'q-001', selectedOptions: ['opt-1'], isCorrect: false, pointsEarned: 0, timeTaken: 30 },
            { questionId: 'q-002', selectedOptions: ['opt-1', 'opt-2'], isCorrect: false, pointsEarned: 0, timeTaken: 45 },
            { questionId: 'q-003', selectedOptions: ['opt-2'], isCorrect: true, pointsEarned: 5, timeTaken: 15 },
            { questionId: 'q-004', selectedOptions: [], codeAnswer: 'function sumEven(arr) { return arr.filter(n => n % 2 == 0).reduce((a, b) => a + b); }', isCorrect: false, pointsEarned: 15, timeTaken: 200 },
        ],
        status: 'completed',
        score: 20,
        maxScore: 50,
        percentage: 40,
        passed: false,
        startedAt: new Date('2024-01-20T11:00:00'),
        completedAt: new Date('2024-01-20T11:30:00'),
        timeSpentSeconds: 1800,
        tabSwitchCount: 2,
    },
    {
        id: 'attempt-003',
        testId: 'test-001',
        candidate: {
            id: 'cand-003',
            name: 'Carol Davis',
            email: 'carol@example.com',
        },
        responses: [
            { questionId: 'q-001', selectedOptions: ['opt-3'], isCorrect: true, pointsEarned: 10, timeTaken: 35 },
            { questionId: 'q-002', selectedOptions: ['opt-1', 'opt-2', 'opt-3'], isCorrect: true, pointsEarned: 15, timeTaken: 50 },
            { questionId: 'q-003', selectedOptions: ['opt-1'], isCorrect: false, pointsEarned: 0, timeTaken: 25 },
            { questionId: 'q-004', selectedOptions: [], codeAnswer: '', isCorrect: false, pointsEarned: 0, timeTaken: 0 },
        ],
        status: 'timed-out',
        score: 25,
        maxScore: 50,
        percentage: 50,
        passed: false,
        startedAt: new Date('2024-01-20T14:00:00'),
        completedAt: new Date('2024-01-20T14:45:00'),
        timeSpentSeconds: 2700,
        tabSwitchCount: 5,
    },
    {
        id: 'attempt-004',
        testId: 'test-001',
        candidate: {
            id: 'cand-004',
            name: 'David Wilson',
            studentId: 'STU-2024-001',
        },
        responses: [
            { questionId: 'q-001', selectedOptions: ['opt-3'], isCorrect: true, pointsEarned: 10, timeTaken: 40 },
            { questionId: 'q-002', selectedOptions: ['opt-1', 'opt-2', 'opt-3'], isCorrect: true, pointsEarned: 15, timeTaken: 55 },
            { questionId: 'q-003', selectedOptions: ['opt-2'], isCorrect: true, pointsEarned: 5, timeTaken: 18 },
            { questionId: 'q-004', selectedOptions: [], codeAnswer: 'const sumEven = arr => arr.filter(n => !(n % 2)).reduce((s, n) => s + n, 0);', isCorrect: true, pointsEarned: 20, timeTaken: 150 },
        ],
        status: 'completed',
        score: 50,
        maxScore: 50,
        percentage: 100,
        passed: true,
        startedAt: new Date('2024-01-21T09:00:00'),
        completedAt: new Date('2024-01-21T09:20:00'),
        timeSpentSeconds: 1200,
        tabSwitchCount: 0,
    },
    {
        id: 'attempt-005',
        testId: 'test-001',
        candidate: {
            id: 'cand-005',
            name: 'Emma Brown',
            email: 'emma@example.com',
        },
        responses: [
            { questionId: 'q-001', selectedOptions: ['opt-2'], isCorrect: false, pointsEarned: 0, timeTaken: 50 },
            { questionId: 'q-002', selectedOptions: ['opt-1'], isCorrect: false, pointsEarned: 0, timeTaken: 40 },
            { questionId: 'q-003', selectedOptions: ['opt-2'], isCorrect: true, pointsEarned: 5, timeTaken: 22 },
            { questionId: 'q-004', selectedOptions: [], codeAnswer: 'function sumEven(arr) { let sum = 0; for(let n of arr) if(n % 2 === 0) sum += n; return sum; }', isCorrect: true, pointsEarned: 20, timeTaken: 190 },
        ],
        status: 'completed',
        score: 25,
        maxScore: 50,
        percentage: 50,
        passed: false,
        startedAt: new Date('2024-01-21T10:00:00'),
        completedAt: new Date('2024-01-21T10:35:00'),
        timeSpentSeconds: 2100,
        tabSwitchCount: 1,
    },
];

// Analytics data
export const mockAnalytics: TestAnalytics = {
    testId: 'test-001',
    totalAttempts: 5,
    completedAttempts: 4,
    averageScore: 34,
    averageTimeMinutes: 28,
    passRate: 40,
    questionStats: [
        { questionId: 'q-001', questionText: 'typeof null output', correctCount: 3, incorrectCount: 2, skipCount: 0, averageTime: 40 },
        { questionId: 'q-002', questionText: 'Variable declaration', correctCount: 2, incorrectCount: 3, skipCount: 0, averageTime: 50 },
        { questionId: 'q-003', questionText: 'Statically typed', correctCount: 4, incorrectCount: 1, skipCount: 0, averageTime: 20 },
        { questionId: 'q-004', questionText: 'Sum even numbers', correctCount: 3, incorrectCount: 1, skipCount: 1, averageTime: 144 },
    ],
    scoreDistribution: [
        { range: '0-20', count: 0 },
        { range: '21-40', count: 1 },
        { range: '41-60', count: 2 },
        { range: '61-80', count: 0 },
        { range: '81-100', count: 2 },
    ],
};

// AI Generated Questions (pending review)
export const mockAIQuestions: AIGeneratedQuestion[] = [
    {
        id: 'ai-q-001',
        question: {
            id: 'ai-gen-001',
            testId: 'test-001',
            type: 'mcq-single',
            text: 'What is the difference between `let` and `var` in JavaScript?',
            options: [
                { id: 'opt-1', text: 'let is function-scoped, var is block-scoped', isCorrect: false },
                { id: 'opt-2', text: 'let is block-scoped, var is function-scoped', isCorrect: true },
                { id: 'opt-3', text: 'There is no difference', isCorrect: false },
                { id: 'opt-4', text: 'let cannot be reassigned', isCorrect: false },
            ],
            explanation: 'let is block-scoped (limited to the block, statement, or expression where it is used), while var is function-scoped (limited to the function where it is declared).',
            difficulty: 'medium',
            topic: 'Variables',
            points: 10,
            negativeMarking: 0,
            order: 0,
            createdAt: new Date(),
            updatedAt: new Date(),
        },
        status: 'pending',
        generatedAt: new Date(),
    },
    {
        id: 'ai-q-002',
        question: {
            id: 'ai-gen-002',
            testId: 'test-001',
            type: 'mcq-single',
            text: 'Which of the following is NOT a primitive data type in JavaScript?',
            options: [
                { id: 'opt-1', text: 'string', isCorrect: false },
                { id: 'opt-2', text: 'number', isCorrect: false },
                { id: 'opt-3', text: 'array', isCorrect: true },
                { id: 'opt-4', text: 'boolean', isCorrect: false },
            ],
            explanation: 'Array is an object type in JavaScript, not a primitive. The primitive types are: string, number, boolean, null, undefined, symbol, and bigint.',
            difficulty: 'easy',
            topic: 'Data Types',
            points: 10,
            negativeMarking: 0,
            order: 0,
            createdAt: new Date(),
            updatedAt: new Date(),
        },
        status: 'pending',
        generatedAt: new Date(),
    },
    {
        id: 'ai-q-003',
        question: {
            id: 'ai-gen-003',
            testId: 'test-001',
            type: 'true-false',
            text: 'Arrow functions have their own `this` binding.',
            options: [
                { id: 'opt-1', text: 'True', isCorrect: false },
                { id: 'opt-2', text: 'False', isCorrect: true },
            ],
            explanation: 'Arrow functions do not have their own `this` binding. They inherit `this` from the enclosing lexical context.',
            difficulty: 'medium',
            topic: 'Arrow Functions',
            points: 5,
            negativeMarking: 0,
            order: 0,
            createdAt: new Date(),
            updatedAt: new Date(),
        },
        status: 'pending',
        generatedAt: new Date(),
    },
];

// Topics for question generation
export const availableTopics = [
    'JavaScript Basics',
    'Variables',
    'Data Types',
    'Operators',
    'Control Flow',
    'Functions',
    'Arrow Functions',
    'Arrays',
    'Objects',
    'DOM Manipulation',
    'Events',
    'Async/Await',
    'Promises',
    'Error Handling',
    'ES6+ Features',
    'Type Coercion',
    'Scope',
    'Closures',
    'Prototypes',
    'Classes',
    'Modules',
    'JSON',
    'Regular Expressions',
    'Web APIs',
    'Local Storage',
];

// Subjects for question generation
export const availableSubjects = [
    'JavaScript',
    'TypeScript',
    'React',
    'Node.js',
    'Python',
    'Java',
    'Data Structures',
    'Algorithms',
    'Database',
    'SQL',
    'Web Development',
    'Computer Science',
    'Mathematics',
    'Physics',
    'Chemistry',
];
